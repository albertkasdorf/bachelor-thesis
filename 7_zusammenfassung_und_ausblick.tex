%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	- [Wikipedia, Wireless USB]
%		- Eine aktuelle Recherche (3. Januar 2017) in den einschlägigen deutschen Bestellportalen (Ebay, Amazon, Conrad, Euronics, …) ergab, dass Geräte mit CWUSB-Unterstützung dort derzeit in Deutschland nicht bestellbar sind.
%		- Bei Amazon ließen sich in den Kundenrezensionen Spuren finden, dass im Jahr 2010 entsprechende Geräte auch vertrieben wurden.
%		- Zwei Entwicklungen machen es den Geräten schwer, sich am Markt zu behaupten:
%			- Einerseits wurde mit USB 3.0 die Datendurchsatzrate deutlich angehoben, was die Anforderungen an den Wireless-USB-Standard verschärft.
%			- Andererseits hat die Marktentwicklung bei den Smartphones die Verbreitung des Bluetooth-Standards stark ausgebaut.
%			- Während das Bluetooth-Konsortium seinen Standard laufend weiterentwickelt (zuletzt 2016 mit Version 5), datiert die letzte Version des USBCV-Tools für den Test und die Entwicklung von Wireless USB auf den 17. Juli 2009. Vor diesem Hintergrund erscheint es derzeit fraglich, ob CWUSB noch einmal aus der Versenkung auftauchen wird. 
%	
%	- Vielleicht sollte man sich diese Einschätzung für das Fazit aufgewahren? Komnsumer Markt nein, Spezial Markt ja.
%	
%
%%%%%%%%%%
\chapter{Zusammenfassung und Ausblick}

Im Grundlagen-Kapitel wurden zu erste der Unterschied zwischen der Entfernungsmessung mittels Triangulation und der Trilateration beschrieben. Die Triangulation bestimmt die Entfernung durch das Messen der Winkel zwischen mehreren Referenzpunkten, während die Trilateration die Entfernungen anhand der Signallaufzeit bestimmt. Die Trilateration wird von den \glsuseri{uwbm} verwendet um Nachrichten auszutauschen. Durch den Nachrichtenaustausch ist es auch möglich die Entfernung zwischen zwei \glspl{uwbm} zu bestimmen. Dazu wird der Nachrichtenversand zu einem zukünftigen Zeitpunkt geplant, um den Zeitstempel des Sendevorgangs in die Nachricht einzubetten. Das empfangende \gls{uwbm} ist nun im Besitz aller Informationen um die Entfernung zu errechnen. Dies ist unter dem Namen \gls{sstwr}-Verfahren bekannt. Eine Verbesserung stellt das \gls{dstwr}-Verfahren dar, das für die Entfernungsmessung verwendet wird, da es den Fehler der lokalen Zeitgeber minimiert.

Im Geometrie-Abschnitt wurden die mathematischen Gleichungen für das Konstruieren und Berechnen der relevanten Längen des gleichseitigen Dreiecks und eines regelmäßigen Fünfecks beschrieben.

Die Wahrscheinlichkeitstheorie legt den Grundstein um die Funktionsweise der verschieden \gls{slam}-Varianten zu verstehen. Dabei wurden die Konzepte der Zufallsvariablen, der einfachen und mehrdimensionalen Normalverteilung und deren Gesetzmäßigkeiten wie die bedingte Wahrscheinlichkeit, die Abhängigkeiten zwischen Zufallsvariablen und der Satz von Bayes vorgestellt.

Mit einem Zustandschätzer ist es möglich, Abschätzungen über den zukünftigen Zustand eines Systems zu erstellen. Der Zustand beschreibt dabei alle Aspekte eines Roboters und seiner Umwelt die einen Einfluss auf die Zukunft haben können. Die Abschätzungen werden dabei durch die Steuerbefehle, die der Roboter an die Aktorik sendet, und die Wahrnehmungen der Umwelt gesteuert. Das interne Wissen des Roboters über den Zustand seiner Umwelt wird dabei als Belief bezeichnet. Die Basis aller Zustandschätzer bildet dabei der rekursive Bayes Filter, der jeden Zustand in zwei Schritten schätzt. Im Prognose-Schritt wird der nächste Zustand mit den Steuerbefehlen vorhergesagt und dann im Korrektur-Schritt mit den Wahrnehmungen korrigiert. Bei dem Bayes Filter handelt es sich um eine sehr abstrakten Algorithmus, der durch den Kalman Filter konkret umgesetzt wird. Der Kalman Filter nutzt dabei eine mehrdimensionale Normalverteilung um den Belief zu repräsentieren. Dadurch entstehen bei der Nutzung von nicht linearen Funktionen, die bei Rotationsbewegungen auftreten, aber auch Probleme. Diese werden durch den \gls{ekf} mittels einer Linearisierung der nicht linearen Funktion gelöst.

Bedingt durch die Verwendung einer Normalverteilung, können sowohl der Kalman Filter als auch der \gls{ekf} keine multimodalen Verteilungen darstellen. Diese Einschränkungen können durch den \gls{pf} umgangen werden. Dieser nutzt eine Menge von Partikeln um den Belief darzustellen. Dadurch ist es möglich eine beliebige Verteilung abzubilden. Jedes Partikel wird mit einem Gewicht versehen, um die Relevanz zu beschreiben. Im Resampling-Schritt werden die Partikel aussortiert, bei denen die Gewichtung unter einen festgelegten Grenzwert fällt, und durch neue Partikel ersetzt.

Wenn es notwendig wird, das nicht nur der Zustand des Roboters geschätzt, sondern auch gleichzeitig eine Karte der Umwelt erstellt wird, spricht man von einem \gls{slam}-Verfahren. Der \gls{ekf}-\gls{slam} gehört dabei zu den Standardverfahren der Robotik. Hierbei wird der Zustand des Roboters, als auch der der Umwelt mittels eines kombinierten Zustandsvektors modelliert. Das \gls{slam}-Verfahren kann auch mithilfe eines \gls{pf} gelöst werden, dazu muss der Zustandsvektor aufgespalten werden da \gls{pf} in großen Zustandsräumen nicht praktikabel sind. Der \gls{pf} stellt somit durch seine Partikel eine Hypothese des Pfades dar und jedem Partikel wird dann eine Menge von Landmarken zugewiesen.

Das Grundlagen-Kapitel schließt mit einer kurzen Betrachtung der \gls{ros}-Begrifflichkeiten ab. Hierzu gehört der \gls{ros}-Master, der die Verbindung zwischen verschieden Verarbeitungseinheiten, auch als Knoten bezeichnet, bereitstellt. Damit eine Kommunikation zwischen den Knoten stattfinden kann, werden Nachrichten über Datenbusse übertragen.

Die ersten beiden Veröffentlichungen im Kapitel Stand der Forschung und Technik werden die Positionen der \glspl{beacon} zuerst solange beobachtet, bis die Unsicherheit so gering ist, dass diese problemlos mit einem \gls{ekf}-\gls{slam} verarbeitet werden können. In der ersten Veröffentlichung werden die ungefähren \gls{beacon}-Positionen durch die Kombination von \gls{propgrid} angenähert. Anders geht die zweite Veröffentlichung vor, hier werden die beobachteten Entfernungen in einem Gitter eingetragen. Sobald sich ein Gipfel gebildet hat, wird die Positionsschätzung an den \gls{ekf}-\gls{slam} übergeben.

Die nächsten zwei Veröffentlichungen nutzen den \gls{pf}-\gls{slam}. Beim ersten wird für jedes Partikel ein Hilfspartikel Filter eingesetzt, um die radiale Verteilung zu modellieren. Der Zweite verwendet anstatt einem Hilfspartikel Filter eine Menge von Normalverteilungen die ebenfalls radial angeordnet und mit Gewichten versehen sind. Sobald beide Verfahren gegen eine \gls{beacon}-Positionen konvergiert sind, wird der Hilfspartikel Filter und die Menge von Normalverteilungen durch einen \gls{ekf} ersetzt.

Einen vollkommen anderen Weg beschreibt die letzte Veröffentlichung, hier werden die \gls{beacon}-Positionen nicht in Kartesische Koordinaten, sondern in Polarkoordinaten beschrieben.

Das Ultra-Wideband-Kapitel beginnt mit der Beschreibung der Unterschiede zwischen der Übertragung von Informationen durch das Aufmodulieren auf eine sinusförmige Trägerfrequenz und der Übertragung von Informationen im Basisband durch das Erzeugen von kurzen Impulsen im Nanosekundenbereich. Die Ultra-Wideband Technologie verwendet das letzte Verfahren und kann dank der hohen Bandbreite auch entsprechend hohe Datenmengen übertragen.

Danach geht es an die Erstellung der Hardware, sprich der \glspl{uwbm}. Zu den Hauptanforderungen gehört die gemeinsame Hardwareplattform, eine separate Stromversorgung und eine optionale Kommunikationsschnittstelle. Das Herzstück der \glspl{uwbm} ist dabei der \gls{uwbt} von \textit{DecaWave}. Dieser \gls{ic} sorgt für die komplette Verarbeitung und Auswertung der \gls{uwb}-Signal. Gesteuert wird dieser über die \gls{spi}-Schnittstelle durch einen Arduino kompatiblen Mikrocontroller, dem Pro Trinket. Da der Mikrocontroller über keine eigene Kommunikationsschnittstelle zur Verarbeitungseinheit verfügt, wird diese über eine separate Kommunikationsschnittstelle gelöst. Im Vorfeld wurden zwei Prototypen der \gls{uwbm} aufgebaut. Zum einen um die Beschaltung der elektrischen Komponenten zu testen und zum anderen um den Nachrichtenaustausch mit gleichzeitiger Entfernungsmessung auszuprobieren. Nach der erfolgreichen Prototypenphase wurde ein Platinendesign erstellt und durch einen entsprechenden Dienstleister gefertigt.

Als Software für die Steuerung des \gls{uwbt} durch den Mikrocontroller wurde eine GitHub-Projekt verwendet. Dieses stellte die Basis für die Kommunikation mit dem \gls{uwbt} bereit. Zusätzlich waren die Kommunikationsprotokolle für die Entfernungsmessung bereits implementiert. Lediglich die Kommunikationsschnittstelle zwischen dem Mikrocontroller und der Verarbeitungseinheit, und die Integration der Entfernungsmessungsdaten in das \gls{ros}-System mussten entwickelt werden.

Nach dem die \glspl{uwbm} erstellt und die Kommunikationsschnittstelle bereitstand, musste die Antennenverzögerung durch eine Kalibierung der \glspl{uwbm} bestimmt werden. Hierfür wurde zum einen das herstellerspezifische Verfahren implementiert, das auf Basis eines genetischen Algorithmus die Antennenverzögerung bestimmte. Durch die Erkenntnis, dass das Verfahren nur unzureichende Ergebnisse lieferte, wurde ein weiteres Verfahren auf der Basis eines linearen Gleichungssystems entwickelt.







% Umsetzung des RO-SLAM in ROS
%- Roboterplattform
%	- Robotino 2, 2D-Laser-Entfernungsmesser, holonomer Antrieb mit Inkrementalgeber, Verarbeitungseinheit
%	- Softwarearchitektur
%		- Transformatinosbaum mit Odometrie + Entfernungsmessungen
%	- ROS-Hauptmodule
%		- Robotino-Steuerung
%		- Koordindatentransformationen
%		- Teleoperation
%		- UWB-Entfernungsmessung
%	- ROS-Hilfsmodule
%		- 2D-Laser-Entfernungsmesser
%		- Belegtheitskarten
%		- Trajektorie
%		- Laser-Odometrie
%	- MRPT

% Evaluation
%- Batterielaufzeit
%- Kalibierung
%	- LGS
%	- DecaWave
%	- Normalverteilung der Messwerte
%	- Fünfeck
%- Entfernungsmessung
%	- LOS/NLOS
%	- 1-9m in 0.5 schritten
%	- Blech/Wasser
%- Trajektorie
%	- Testen der verschieden Odometriequellen
%	- Inkrementalgeber + laserbasierte
%- Positionsschätzung
%	- RF2O
%	- virtuelle + reale uwbm
%- Positionsschätzung der UWB-Module
%	- virtuelle werden auf ca. 0.15-0.97m geschätzt
%	- reale werden von ca 0.49-1,03m geschätzt
%- Konvergenz der WDF


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%	- UWB-Module
%		- Stärker Prozessor um den DWM mit maximaler SPI-Geschwindigkeit anzusteuern (20 Mhz)
%		- Identifier über DIP Schalter einstellbar
%		- Größerer Speicher um mehr Anchor/Tags verwalten zu können.
%		- Stromsparfunktionen
%		- vergleich mit dem kommerziellen Produkt
%	- RO-SLAM
%		- 
%
%%%%%%%%%%
\section{Ausblick}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Wurden alle Fragen aus dem Expose geklärt/beantwortet?
%
%%%%%%%%%%
\section{Fazit}

